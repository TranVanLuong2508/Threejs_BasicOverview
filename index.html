<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Three.js - Tài liệu lý thuyết toàn diện</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.7;
            color: #2c3e50;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(15px);
            border-radius: 25px;
            padding: 50px;
            text-align: center;
            margin-bottom: 40px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .header h1 {
            font-size: 3.5em;
            color: #2c3e50;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header .subtitle {
            font-size: 1.4em;
            color: #7f8c8d;
            margin-bottom: 25px;
            font-weight: 300;
        }

        .header .meta {
            font-size: 0.95em;
            color: #95a5a6;
            background: rgba(52, 152, 219, 0.1);
            padding: 15px 30px;
            border-radius: 50px;
            display: inline-block;
            border: 1px solid rgba(52, 152, 219, 0.2);
        }

        .content {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 40px;
        }

        .sidebar {
            background: rgba(255, 255, 255, 0.92);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 30px;
            height: fit-content;
            position: sticky;
            top: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .sidebar h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.2em;
            font-weight: 600;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }

        .sidebar ul {
            list-style: none;
        }

        .sidebar li {
            margin-bottom: 10px;
        }

        .sidebar a {
            color: #3498db;
            text-decoration: none;
            font-size: 0.95em;
            transition: all 0.3s ease;
            display: block;
            padding: 8px 15px;
            border-radius: 8px;
            border-left: 3px solid transparent;
        }

        .sidebar a:hover {
            background: rgba(52, 152, 219, 0.1);
            transform: translateX(5px);
            border-left-color: #3498db;
        }

        .sidebar a.active {
            background: rgba(52, 152, 219, 0.15);
            color: #2980b9;
            font-weight: 600;
            border-left-color: #2980b9;
        }

        .main-content {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 50px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .section {
            margin-bottom: 60px;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 0.8s ease forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section h2 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 30px;
            border-bottom: 4px solid #3498db;
            padding-bottom: 15px;
            position: relative;
        }

        .section h2::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 60px;
            height: 4px;
            background: linear-gradient(135deg, #667eea, #764ba2);
        }

        .section h3 {
            color: #34495e;
            font-size: 1.8em;
            margin: 40px 0 20px 0;
            font-weight: 600;
        }

        .section h4 {
            color: #2c3e50;
            font-size: 1.4em;
            margin: 30px 0 15px 0;
            font-weight: 600;
        }

        .section p {
            margin-bottom: 20px;
            text-align: justify;
            font-size: 1.1em;
            line-height: 1.8;
        }

        .code-block {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: #ecf0f1;
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
            font-family: 'Fira Code', 'Monaco', 'Consolas', monospace;
            overflow-x: auto;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .code-block::before {
            content: "JavaScript";
            position: absolute;
            top: 8px;
            right: 15px;
            font-size: 0.8em;
            color: #95a5a6;
            background: rgba(0, 0, 0, 0.3);
            padding: 4px 8px;
            border-radius: 4px;
        }

        .highlight {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
            border-left: 5px solid #3498db;
            box-shadow: 0 5px 20px rgba(52, 152, 219, 0.2);
        }

        .highlight strong {
            color: #2c3e50;
        }

        .concept-card {
            background: rgba(52, 152, 219, 0.08);
            border: 2px solid rgba(52, 152, 219, 0.3);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .concept-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(135deg, #667eea, #764ba2);
        }

        .concept-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(52, 152, 219, 0.2);
            border-color: rgba(52, 152, 219, 0.5);
        }

        .concept-card h4 {
            color: #2980b9;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .concept-card ul {
            list-style: none;
            padding-left: 0;
        }

        .concept-card li {
            margin-bottom: 10px;
            padding-left: 20px;
            position: relative;
        }

        .concept-card li::before {
            content: '▶';
            position: absolute;
            left: 0;
            color: #3498db;
            font-size: 0.8em;
        }

        .workflow {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .workflow-step {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .workflow-step::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .workflow-step:hover::before {
            opacity: 1;
        }

        .workflow-step:hover {
            transform: translateY(-10px) scale(1.02);
        }

        .workflow-step h4 {
            margin-bottom: 15px;
            font-size: 1.2em;
            color: white;
        }

        .workflow-step p {
            font-size: 0.95em;
            text-align: center;
            line-height: 1.6;
        }

        .table-container {
            overflow-x: auto;
            margin: 25px 0;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 15px;
            overflow: hidden;
        }

        th,
        td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #ecf0f1;
        }

        th {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            font-weight: 600;
        }

        tr:hover {
            background: rgba(52, 152, 219, 0.05);
        }

        .warning {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            border-left: 5px solid #e74c3c;
            padding: 20px;
            border-radius: 10px;
            margin: 25px 0;
        }

        .info {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            border-left: 5px solid #3498db;
            padding: 20px;
            border-radius: 10px;
            margin: 25px 0;
        }

        .success {
            background: linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%);
            border-left: 5px solid #27ae60;
            padding: 20px;
            border-radius: 10px;
            margin: 25px 0;
        }

        .image-placeholder {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border: 2px dashed #bdc3c7;
            border-radius: 10px;
            padding: 40px;
            text-align: center;
            margin: 25px 0;
            color: #7f8c8d;
        }

        .conclusion {
            text-align: center;
            margin-top: 60px;
            padding: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }

        .conclusion h3 {
            margin-bottom: 20px;
            font-size: 2em;
        }

        .conclusion p {
            font-size: 1.1em;
            line-height: 1.7;
            margin-bottom: 15px;
        }

        @media (max-width: 1024px) {
            .content {
                grid-template-columns: 1fr;
            }

            .sidebar {
                position: static;
                order: 2;
            }

            .header h1 {
                font-size: 2.5em;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .header {
                padding: 30px 20px;
            }

            .main-content {
                padding: 30px 20px;
            }

            .workflow {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>🎯 Three.js - Tài liệu lý thuyết toàn diện</h1>
            <p class="subtitle">Bản dịch chi tiết và mở rộng từ Three.js Documentation</p>
            <div class="meta">
                📚 Dựa trên Three.js r160+ • WebGL 3D JavaScript Library • Cập nhật 2025
            </div>
        </div>

        <div class="content">
            <div class="sidebar">
                <h3>📚 Mục lục chi tiết</h3>
                <ul>
                    <li><a href="#introduction">1. Giới thiệu tổng quan</a></li>
                    <li><a href="#getting-started">2. Bắt đầu với Three.js</a></li>
                    <li><a href="#core-concepts">3. Khái niệm cốt lõi</a></li>
                    <li><a href="#scene-graph">4. Scene Graph</a></li>
                    <li><a href="#geometry">5. Geometry</a></li>
                    <li><a href="#materials">6. Materials</a></li>
                    <li><a href="#textures">7. Textures</a></li>
                    <li><a href="#lighting">8. Lighting</a></li>
                    <li><a href="#cameras">9. Cameras</a></li>
                    <li><a href="#rendering">10. Rendering</a></li>
                    <li><a href="#animation">11. Animation</a></li>
                    <li><a href="#loaders">12. Loaders</a></li>
                    <li><a href="#physics">13. Physics</a></li>
                    <li><a href="#performance">14. Performance</a></li>
                    <li><a href="#shaders">15. Shaders</a></li>
                    <li><a href="#advanced">16. Kỹ thuật nâng cao</a></li>
                </ul>
            </div>

            <div class="main-content">
                <div class="section" id="introduction">
                    <h2>🌟 1. Giới thiệu tổng quan về Three.js</h2>

                    <h3>Three.js là gì?</h3>
                    <p>Three.js là một thư viện JavaScript mã nguồn mở được phát triển bởi Ricardo Cabello (Mr.doob) và
                        cộng đồng, được thiết kế để tạo ra các trải nghiệm 3D tương tác trong trình duyệt web. Thư viện
                        này cung cấp một API cao cấp để làm việc với WebGL, WebGPU, và Canvas 2D mà không cần kiến thức
                        sâu về các công nghệ đồ họa cấp thấp.</p>

                    <div class="concept-card">
                        <h4>🎯 Đặc điểm nổi bật của Three.js</h4>
                        <ul>
                            <li><strong>Cross-platform:</strong> Chạy trên tất cả trình duyệt hiện đại hỗ trợ WebGL</li>
                            <li><strong>Hiệu suất cao:</strong> Tận dụng GPU thông qua WebGL để rendering</li>
                            <li><strong>API trực quan:</strong> Thiết kế để dễ học và sử dụng</li>
                            <li><strong>Cộng đồng mạnh:</strong> Hàng nghìn examples và tutorials</li>
                            <li><strong>Tính mở rộng:</strong> Hỗ trợ plugins và extensions</li>
                            <li><strong>Đa dạng format:</strong> Hỗ trợ nhiều định dạng file 3D</li>
                        </ul>
                    </div>

                    <h3>Lịch sử phát triển</h3>
                    <p>Three.js được khởi tạo vào năm 2010 bởi Ricardo Cabello, ban đầu như một dự án thử nghiệm để đưa
                        đồ họa 3D vào web. Kể từ đó, nó đã trở thành thư viện 3D phổ biến nhất cho JavaScript với hơn
                        100,000 stars trên GitHub và được sử dụng bởi hàng triệu trang web.</p>

                    <div class="info">
                        <strong>💡 Thông tin thú vị:</strong> Three.js được đặt tên theo cụm từ "three" (ba) - đại diện
                        cho ba chiều không gian (3D). Phiên bản đầu tiên được viết bằng ActionScript trước khi chuyển
                        sang JavaScript.
                    </div>

                    <h3>Ứng dụng của Three.js</h3>
                    <div class="workflow">
                        <div class="workflow-step">
                            <h4>🎮 Games</h4>
                            <p>Tạo games 3D chạy trên browser với physics, animations và interactions phức tạp</p>
                        </div>
                        <div class="workflow-step">
                            <h4>🏗️ Visualization</h4>
                            <p>Data visualization, architectural visualization, và scientific simulations</p>
                        </div>
                        <div class="workflow-step">
                            <h4>🎨 Art & Design</h4>
                            <p>Interactive art installations, generative art, và creative coding projects</p>
                        </div>
                        <div class="workflow-step">
                            <h4>🛒 E-commerce</h4>
                            <p>Product configurators, 3D previews, và virtual showrooms</p>
                        </div>
                    </div>
                </div>

                <div class="section" id="getting-started">
                    <h2>🚀 2. Bắt đầu với Three.js</h2>

                    <h3>Cài đặt Three.js</h3>
                    <p>Có nhiều cách để bắt đầu với Three.js, từ CDN đến package managers. Dưới đây là các phương pháp
                        phổ biến:</p>

                    <div class="code-block">
                        <!-- Cách 1: CDN -->
                        &lt;script
                        src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"&gt;&lt;/script&gt;

                        <!-- Cách 2: NPM -->
                        npm install three

                        <!-- Cách 3: Import ES6 -->
                        import * as THREE from 'three';

                        <!-- Cách 4: Specific imports -->
                        import { Scene, PerspectiveCamera, WebGLRenderer } from 'three';
                    </div>

                    <h3>Cấu trúc project cơ bản</h3>
                    <div class="concept-card">
                        <h4>📁 Cấu trúc thư mục khuyến nghị</h4>
                        <ul>
                            <li><strong>index.html</strong> - File HTML chính</li>
                            <li><strong>main.js</strong> - Logic Three.js chính</li>
                            <li><strong>assets/</strong> - Chứa models, textures, sounds</li>
                            <li><strong>shaders/</strong> - Custom shaders (nếu có)</li>
                            <li><strong>css/</strong> - Stylesheets</li>
                            <li><strong>dist/</strong> - Build output</li>
                        </ul>
                    </div>

                    <h3>Hello World với Three.js</h3>
                    <p>Đây là ví dụ cơ bản nhất để tạo một scene với một hình khối đơn giản:</p>

                    <div class="code-block">
                        // Tạo scene
                        const scene = new THREE.Scene();

                        // Tạo camera
                        const camera = new THREE.PerspectiveCamera(
                        75, // Field of view
                        window.innerWidth / window.innerHeight, // Aspect ratio
                        0.1, // Near clipping plane
                        1000 // Far clipping plane
                        );

                        // Tạo renderer
                        const renderer = new THREE.WebGLRenderer({ antialias: true });
                        renderer.setSize(window.innerWidth, window.innerHeight);
                        renderer.setClearColor(0x000000); // Màu nền đen
                        document.body.appendChild(renderer.domElement);

                        // Tạo geometry (hình dạng)
                        const geometry = new THREE.BoxGeometry(1, 1, 1);

                        // Tạo material (vật liệu)
                        const material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });

                        // Tạo mesh (đối tượng 3D)
                        const cube = new THREE.Mesh(geometry, material);
                        scene.add(cube);

                        // Đặt vị trí camera
                        camera.position.z = 5;

                        // Render loop
                        function animate() {
                        requestAnimationFrame(animate);

                        // Xoay cube
                        cube.rotation.x += 0.01;
                        cube.rotation.y += 0.01;

                        // Render scene
                        renderer.render(scene, camera);
                        }

                        animate();
                    </div>

                    <div class="highlight">
                        <strong>🎯 Giải thích code:</strong> Đoạn code trên tạo ra một scene 3D cơ bản với một hình khối
                        xanh lá cây quay tròn. Đây là foundation cho mọi project Three.js.
                    </div>
                </div>

                <div class="section" id="core-concepts">
                    <h2>🔧 3. Khái niệm cốt lõi</h2>

                    <h3>Bộ ba cốt lõi (Core Trio)</h3>
                    <p>Three.js được xây dựng dựa trên ba thành phần chính không thể thiếu:</p>

                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Thành phần</th>
                                    <th>Mô tả</th>
                                    <th>Vai trò</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Scene</strong></td>
                                    <td>Không gian 3D chứa mọi đối tượng</td>
                                    <td>Container cho objects, lights, cameras</td>
                                </tr>
                                <tr>
                                    <td><strong>Camera</strong></td>
                                    <td>Điểm nhìn để quan sát scene</td>
                                    <td>Xác định perspective và field of view</td>
                                </tr>
                                <tr>
                                    <td><strong>Renderer</strong></td>
                                    <td>Engine chuyển đổi 3D thành 2D</td>
                                    <td>Vẽ scene lên canvas HTML</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <h3>Hệ tọa độ (Coordinate System)</h3>
                    <p>Three.js sử dụng hệ tọa độ 3D theo quy tắc tay phải (right-handed coordinate system):</p>

                    <div class="concept-card">
                        <h4>📐 Hệ tọa độ Three.js</h4>
                        <ul>
                            <li><strong>Trục X:</strong> Trái (-) ← → Phải (+)</li>
                            <li><strong>Trục Y:</strong> Dưới (-) ↓ ↑ Trên (+)</li>
                            <li><strong>Trục Z:</strong> Trong (-) ⊗ ⊙ Ngoài (+)</li>
                            <li><strong>Gốc tọa độ:</strong> (0, 0, 0) ở trung tâm scene</li>
                        </ul>
                    </div>

                    <h3>Object3D - Lớp cơ sở</h3>
                    <p>Mọi đối tượng trong Three.js đều kế thừa từ lớp Object3D, cung cấp các thuộc tính và phương thức
                        cơ bản:</p>

                    <div class="code-block">
                        // Thuộc tính transform cơ bản
                        object.position.set(x, y, z); // Vị trí
                        object.rotation.set(x, y, z); // Góc xoay (radians)
                        object.scale.set(x, y, z); // Tỷ lệ

                        // Phương thức transform
                        object.translateX(distance); // Di chuyển theo trục X
                        object.rotateY(angle); // Xoay quanh trục Y
                        object.lookAt(target); // Nhìn về một điểm

                        // Hierarchy
                        parent.add(child); // Thêm con
                        parent.remove(child); // Xóa con
                        object.parent; // Đối tượng cha
                        object.children; // Mảng các đối tượng con

                        // Visibility và utility
                        object.visible = true/false; // Hiển thị/ẩn
                        object.userData = {}; // Dữ liệu tùy chỉnh
                        object.name = "objectName"; // Tên đối tượng
                    </div>

                    <h3>Vectors và Matrices</h3>
                    <p>Three.js cung cấp các lớp toán học mạnh mẽ để làm việc với vectors và matrices:</p>

                    <div class="code-block">
                        // Vector3 - Điểm hoặc hướng trong không gian 3D
                        const vector = new THREE.Vector3(1, 2, 3);
                        vector.normalize(); // Chuẩn hóa vector
                        vector.length(); // Độ dài vector
                        vector.distanceTo(otherVector); // Khoảng cách đến vector khác
                        vector.cross(otherVector); // Tích có hướng
                        vector.dot(otherVector); // Tích vô hướng

                        // Matrix4 - Ma trận biến đổi 4x4
                        const matrix = new THREE.Matrix4();
                        matrix.makeTranslation(x, y, z); // Ma trận dịch chuyển
                        matrix.makeRotationX(angle); // Ma trận xoay X
                        matrix.makeScale(x,